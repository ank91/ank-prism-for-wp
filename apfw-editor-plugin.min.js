!function(e,t){"use strict";String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")};var a=[];"undefined"!=typeof apfw_lang&&(a=apfw_lang),tinymce.PluginManager.add("afpw_assist_button",function(e){e.addButton("afpw_assist_button",{title:"Prism Assistant",text:"Prism",type:!1,icon:"apfw-icon",onclick:function(){e.windowManager.open({title:"Prism Syntax Highlighter Assistant",width:550,height:450,body:[{type:"listbox",name:"language",label:"Language* :",values:a,value:a[0].value},{type:"checkbox",name:"lineNumbers",label:"Show Line numbers:",checked:!0},{type:"textbox",name:"lineNumStart",label:"Start Line Number From:"},{type:"textbox",name:"highLight",label:"Lines to Highlight:"},{type:"textbox",name:"code",label:"Paste Code*:",multiline:!0,minHeight:250,value:"",onclick:function(e){t(e.target).css("border-color","")}},{type:"label",name:"info",label:"Please Note: :",text:"These options works only if enabled on Plugin Option Page.",style:"font-size:smaller"}],onsubmit:function(a){var n="",i="",l="",o=a.data.code.trim();if(""===o){var r=this._id,s=t("#"+r+"-body").find(".mce-formitem textarea");return t(s.get(0)).css("border-color","red").focus(),!1}a.data.lineNumbers&&(n=' class="line-numbers" '),a.data.lineNumStart&&a.data.lineNumbers&&(i=' data-start="'+a.data.lineNumStart+'" '),a.data.highLight&&(l=' data-line="'+a.data.highLight+'" ');var u=a.data.language;o=o.replace(/</g,"&lt;").replace(/>/g,"&gt;"),e.insertContent("<pre"+l+n+i+'><code class="language-'+u+'">'+o+"</code></pre>")}})}})})}(window,jQuery);